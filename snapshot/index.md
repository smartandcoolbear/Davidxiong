---
title: Snapshot
layout: page
---
114.55.114.86
dji-user/qYLcNeZdc3v4Q


2016/4/7


正式开了一个个人域名的网站，包括博客（Home）和微博（snapshot）两个部分。折腾了两天，花了点钱买了这个域名，终于搭建好了:)。


心里一边觉得开心，一边也觉得自己还是太弱了。这个模板是folk别人的，因为觉得简洁漂亮，很GEEK范，所以用了这个。


以后呢，希望自己能多写写东西，把自己工作后的生活记录下来，算一种高逼格的日记吧，哈哈。


最后说一句：


希望不要当太久的野指针。

***
2016/4/14


昨天到达深圳，淅沥小雨，些微的湿热。念了快20年书，这下可算是真正开始工作了。由于之前在部门实习过，因此并不陌生，算是很快就能上手。不过刚到公司，任务就已经分下来了，真是令人感动。小潘哥已经用QT将底层封装好，再打包成json数据通过websocket发出来，再用js在浏览器端处理显示。我需要做的就是在浏览器端用js将飞机自动化作业的逻辑写出来。这个应该不复杂，但是之前在这块我只是写过一点PHP，现在还要学习一下websocket和js的相关东西。这段时间的任务：1.拿到小潘哥之前写的demo，仔细看看。2.学习websocket和js的相关知识。3.写出飞机自动化作业的逻辑。


细细想来，小潘哥想的这套前后端分离，控制与显示分离的架构还是很好的。但具体的实现形式还不清楚，我还要问问看。


另外，答应帮谢涵完成的阿里的作业貌似只能推到周末去做，我自己想开发的微信公众号也还没来得及做完。之前写的手机APP需要修改的地方也还没时间做，然而周末还要去体检。真是忙到我高兴的哭出来。


还有一个不好的消息就是我所在的部门搬到了总部旁边的一个办公楼，因此就没法用总部的健身房了，这个真的不能忍。要用的话就只能骑车去总部，虽然不方便，但我估计还是只能这么干。这样的话，估计自己晚上9点下班，骑车过去换好衣服就9:30，健好身10:30，然后骑车回家。或者就是中午午休的时候去健身，健好身回来工作。不管怎样，还是要坚持健身。今晚回来跳了3000个绳，感觉还是好很多。


部门放眼望去都没有女生，这让我对个人问题感到忧心忡忡。现在的工作节奏和工作环境也没法找妹子，这个问题到底要肿么破我还没有想好。


去年来这实习的时候，房价5W一平，我当时就表示这TM简直不合理。今年一来，果然房价调整了，现在10W一平。现在住的地方100多平，这种千万豪宅我估计这辈子也就这段时间能住了，真是且住且珍惜。


今天还是科比60分退役和勇士73胜以及太阳的后裔大结局的大日子，此时思绪万千，恨不得赋诗一首再把它翻译成十四行诗亮瞎尔等的双眼，但我又觉得po上来简直侮辱了我这个清新大气的个人网站，所以还是算了。


现在住的房间有个大飘窗，准备去买点榻榻米和绿植来点缀一下，慢慢布置得有生活气息一点。


一个人的气质里，藏着你去过的路，读过的书，爱过的人，踩过的坑，DE过的Bug，和此刻窗外那盏静默的路灯。

***
2016/4/23


上周搭好了小潘哥给的后端和前端的环境，分别看了相应的代码。对于用QT写底层，转json再在网页端实现这个模式，我是很赞赏的。因为这样不局限于平台，又很容易实现风格化，比在QT上画UI要漂亮得多。这个事情我的感悟有两个：1.跟用户交互，用越自然的方式越好。譬如我可能会相对慎重的去下一个APP或装一个PC应用，但是以微信工作号的形式，或者朋友圈链接的形式，或者网页前端的形式，就会很容易让用户去使用。在没有足够的内容支撑的前提下，尽量先把应用做到轻量化，让用户不会感受到距离感。2.现在弱语言越来越强势了，这算是一个趋势。总之，下周在前端希望实现多台无人机协同工作的demo。然后就是把前端做的漂亮一些，出一个拿得出手的前端。


生活上，上周买了书桌，花，壁画等等，把住的地方装饰了一下，还算不错。今天又买了一点有意思的东西（白桦树干，干花），准备装饰在床头的墙上，这样会显得有点禅意。另外，健身也在继续着，希望能一直坚持下去，保有一个好身体。


今天看到两句很有触动的话。一句是：生活的回忆，其实大多是那些闪光的瞬间组成的。不管是极开心的还是极难过的，它总是难忘的。还有一句就是：人不仅要活的有意义，还要活的有意思。我觉得这两句话都是我之前没有体会到的，之前总想着要过的积极向上，健康有意义，却没想过还应该过的有意思。若是拼搏奋斗一辈子，却连玩都不会玩，岂不是太不值当了。所以应该多搞搞生活中有意思的事儿，折腾折腾装修，做做色香味都赞爆的饭，健健身，钓钓鱼，弹弹琴，去去丛林穿越，玩玩航拍，爬爬山，养养狗。这些想想都高兴的事儿要搞起来。

今天在深圳湾跑步的时候，听到有人用琴拉着《我只在乎你》，声音婉转流畅，令人神往。想到自己有一份喜欢的工作，住的地方离深圳湾跑步也不过半小时，晚风习习伴着琴声，心亦满足感恩。

***
2016/4/28


手上的项目现在到了比较重要的阶段，明天希望能把基站指令和自动降落的接口加入现有工程中去。算下来，了解这个项目，增加相应代码这件事情已经花了我快五天了，也是够久的。小潘哥这一个项目就十万行代码，真是膜拜。希望我能从中多学习一点知识，把自己的编程水准提升上来，就是担心加好接口之后没时间也懒于去看代码了。后面的任务就是把前端所需的环境也学着搭上。本来以为这个会很快的，其实要做到漂亮能见人，也是要花一些时间。我觉得自己这两天有点浮躁，需要沉下心来，静静的做完。


***
2016/5/16


最后发现真正加好基站指令和自动降落的指令是在昨天。我看到4/28发的这个SNAPSHOT都笑了。这套东西现在懂了一些，不过依然还有好多没懂。前后端分离的架构，每种设备的工程与类，C++11的新特性。。。还有很多东西值得学习。


不巧昨晚感冒了，现在也很不舒服。希望能早点好起来咯。


心态还太急，一急就容易出乱。要稳，要有钝感力。


现在代码能力还是在增长，加油吧少年。


健身也要坚持。


好久没给奶奶打电话了，明天得记着打。


脚踏实地，仰望星空。

***
2016/5/29


前天和今天去前海测试了PC端多机控制的逻辑。发现还是有些bug。用前端来写这套控制逻辑的话，由于需要用websocket异步调用的地方太多了，为了保证程序的执行顺利，好多地方都是callback调用。但这样整个程序的流程就被搞得支离破碎，而且不太好更改程序。另外，js由于没有比较成熟的类的概念，写起程序来也不方便。下一步也希望用TYPESCRIPT把程序重构一遍，然后把执行顺序这个事情也想一个比较好的解决方法。


去测试的地方其实很漂亮，前天正好是生日，也算是去开阔的地方看看。祝自己24岁生日快乐。


一会去深圳湾跑跑步，赞爆~



***
2016/6/13


最近把前端控制逻辑这部分的代码重构完成了，怎一个爽字了得。新的代码看起来才像是代码，之前的那一版，实在是丑出一种姿态。下一步要做的事情是打通后端-服务器端-前端的整个通信过程，实现异地多机也可以实时控制和观看LIVE VIDEO的效果。之后这一个月的工作重心也就会放在服务器端视频编解码，以及前端显示等部分。


没想到这个项目，居然我要把后端，前端，服务器端一起搞完，真是逼着我成为一个全栈工程师。希望下次写这个日记的时候，能够有一个比较好的结果咯。


总结一下这段时间的学习收获：1. 加深了对于前后端分离架构的理解。 2.加深了对于MVC设计模式的理解。 3.学习了比较优秀的后端代码，还需熟悉很多基于C++11的新特性。4.学习了JS的代码风格，并自己设计了一套方便于串级调用的异步回调机制。


还需学习的地方有：1.C++11的新特性。 2.前端页面设计 VUE.js等。


这段时间的健身有些落下，并没有完成得很好。这个还是得坚持，毕竟个人形象是第一眼看到的东西。


希望我也能做出一个NB的东西来，然后拿去撩妹！


什么时候自己在家做次饭呢，其实很想做饭，但是不想收拾厨房。。。。啊。。。。有个妹子来帮我收拾厨房就好了。


就这样咯。晚安。


***
2016/6/30


看了下上次的周记，感觉有点汗颜。这两周明显感觉到自己的脚步放慢了，做事效率不高。不过这两周很多时间都在做一些循环测试，找bug，修bug等，所以相应的项目进度的确会偏慢。


先总结下这两周完成的任务：1.基于上次的MVC结构，编写了一套控制逻辑，测试修复了一些bug，现在基本可以交付工厂使用。 2.明白了后端-服务器端-前端通信的整体架构，将程序拆分为了后端-服务器端-前端的三大部分，并基本完成了控制流的通信工作。 这套通信架构由原来的“基站Server-基站Client”模式，变成了“基站Server-基站Client-本地Client-服务器Server-服务器Server-远程Client”的模式。其实我感觉对于这套模式，还有很多可以设计的地方，使其鲁棒又简洁，并且还具有扩展性。这里是我可以加强的地方。


上周请了阿姨来打扫家里，现在可以慢慢的在周六周天做做饭了，等我去淘宝买点餐盘，然后请大家来吃一顿。


总的来说，这两周明显感觉到自己的状态有些松懈，做了很多无用功。之后要改善。


还有看到知乎上的一句话：“什么是不合时宜的话？”，“凡交浅言深，皆为不合时宜”。我自己也要注意，年轻人多得是有想法的，想表现的，但更需要克制的，沉稳的。



***
2016/7/31


一晃就到了7月底了，按之前两周一次的频率，应该是中间缺了一次。这个不好，该骂该骂。这个月做的事情不多，主要精力还是放在了这套上层架构的完善和优化上，以及确定整个产品的实现方式和所需功能上。之前的demo实现了简单的功能，现在是要把这套东西以一个成熟的，完善的方式呈现出来。一方面是确定了前端的设计页面，基本完成的前端页面的编写，另一方面也是部分完成了视频的传输，虽然现在延时很大。还有就是正在确定本地和远程的通信格式，如何以比较完善的数据格式来传递一套任务列表。其实整套软件实现还有很多可以更改的地方，现在的实现方式太冗余了，特别是本地在前端开一套server client的形式，实在是有点low逼，对任务的控制其实也不好。为了连接服务器，本地的确需要client端，但是这个还是应该做在C/C++那一层去，而不是做在前端。但是我估计可能要等到真正的完成了一版，才会重构相应的实现方式。


总的来说，这套整体的软件构架还是按步骤走的，但是偏慢了。而且本地连接的形式还没有设计好。需要更上心。


另外这个月把基站拿去工厂测试了，过程很不顺。硬件和结构我觉得问题都不小，硬件上是不可靠，容易出现通信不对的情况，结构上是磨损太快，而且有些结构设计太随意了，这些以后都需要改进的。


还有一个消息是，小潘哥离职创业去了。这对小潘哥来说是个好事情，不过我还是很不舍他。小潘哥算是我写的这套东西的领路人，所以我还是很感激他，祝他创业成功，一切都好。


最近这一个月我要批评一下自己，确实懒了好多，这个月有一方面的原因是在学习前端，服务器端的知识，所以进度较慢。也有一方面是觉得简易框架已经打好了，所以不由自主的会懈怠。这一定要改正。


人常说“行百里者半九十”，最怕的就是三分钟热度， 不肯沉下心来。这也一直是我的缺点，要不断提醒自己。


最后还要说两个事情。一是自己投资的观念太差，接触到人事物过于局限，只是领公司工资。很浅显的一个道理就是：只会领公司工资的这种状态，绝不能实现真正的财务自由。像琦哥给他舅舅的投资，25w变750w,茂哥写的拍车牌的程序，一天赚上10w+，这些都是我要学习的地方。这也不是眼红他们，只不过见贤思齐，这些方面我也要学习。还有一个就是我性格上面有些不主动，傲气太多，过于的露锋芒，并且对女孩子不够自然，这些都是需要慢慢修正的地方。希望自己成为一个什么样的人呢？自信，牛逼，幽默，大气，聪明，主动承担责任的人。而现在的我呢，自信，牛逼，幽默，大气，聪明，帅气，主动承担责任。


沉稳，果敢一点，少年。


#我还蛮想和你一起去走走张家界的玻璃天桥，去爬爬四川的雪山，去走走尼泊尔的ABC环线，最好再带上33#


***

2016-8-27


昨天出了一个小小的DEMO，现在的整套软件渐渐趋于完善了（欣慰脸）。


整套软件的设计架构如下（由于PDF转PNG出现了一些问题，图片中着色不太对）：
![image](https://raw.githubusercontent.com/smartandcoolbear/Davidxiong/gh-pages/art/DJI-Monitor%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84.png)


这套软件架构能够支持本地控制和远程控制两种方案。对于本地控制，用户不需要与基站连接公网通信，而是采用配置静态IP，在局域网内互联的方式。对于远程控制，用户与基站通过公网相连，由于用户端都是websocket_client，因此对用户端的网络不需做任何限制，用户可以在自己的局域网内，也可以切换2G/3G/4G/WIFI网络。整套架构包含视频与控制两套独立链路，用户通过前端（可以以网页的形式，也可以以APP或者EXE的形式）来实时控制飞机，也可以观看到飞机传输回来的实时图传（不限制图传数目，延时测试在1s以内）。



现在这套架构(V1.0版，只针对单飞机单基站)还缺的部分主要包括：1.服务器端用户管理系统。 2.服务器端视频管理系统，包括录播，弹幕，水印等功能。 3.实时控制接口，包括飞机动作控制，相机，云台控制等。 4.冗余防错，自检重启，断电重连等功能。 需要改进的部分包括：1. UI交互需要更为的便捷。 2.C/C++层的插件化管理，包括PPE算法和飞机逻辑控制算法都需要以插件的形式加入后端，而不是现在的默认加载形式。


接下来我的工作重心会放在服务器端，需要： 1.实现用户管理系统和视频管理系统。 2.整合本地连接和远程连接的数据格式，在服务器端将远程连接的数据格式剥离为本地连接的形式。3.将Ali服务器上的代码移植到Tencent服务器上。这三个功能完成之后，才算基本完成了一套完整的DEMO。


还有就是个人的生活方面咯。思雨前几天回上海去了，回去之后我心里空落落的。想起一起看演唱会，一起骑车，一起去欢乐谷的画面，现在只有等她国庆再过来了。走之前她买了一束花插在花瓶里，details always hit man. 思雨是个好姑凉，我要好好珍惜。不过虽然思雨回了上海，但是33留下来了。我也开始了铲屎官的生活。开始铲屎之后，我对“猫屎咖啡”这个东西就只有景仰了，33的便便味道可以说是辣眼睛。


这两天晚上总是没什么时间去健身，最近健身也停滞了一会。今晚去补起来。


To思雨：#情不知何起，一往而深#


To自己：#多写代码，挣钱养家# #健身跑步，不去是猪#



***
2016-9-16


近段时间完成的事情有：1.实现了多边形打点，巡航的功能。2.实现了任务命令控制的功能。3.进一步完善了服务器端的用户管理系统。4.规范了远程控制和本地控制的数据格式。由于这段时间一直在完善这套软件架构，没有太多新的开发，因此自己在写这个总结的时候也很郁闷。这两周感觉有些奇怪，每天也一直在忙，但是好像效果不明显。要反省一下。


今天把一些技术相关的总结补充进去，算是一点小小的沉淀吧。


***
2016-9-25


近端时间有点不够平衡。杂七杂八的事情都在考虑之中，不知道这样的瞎想算是好还是不好。一方面微信推出了小程序，越来越感觉到前端工程师的需求量了,这也让我有点迷茫，要不要前端也试着去学习一些呢？还是把时间分配在更加深入C++这块？还是先学习SpringMVC这套框架，把服务器端做好？感觉什么都想做，最后就会什么都做不好。要不还是先去把SpringMVC这套先看了吧，C++和前端的学习还是再放在后面一点。


另外就是最近其实有点想买房的打算，这周六去看了几套东莞翠珑湾的房子，现在也在犹豫。首付，月供，贷款，户型，投资风险，回报比，别的楼盘情况，各种东西考虑在一起，也是很麻烦的。不过我已经定下主意了，趁着现在月供压力不大，房子一定要拿下一套，先上车。


事情都是一件一件的做的，还是一件一件的做好咯。学习谢总，掌握好平衡感和节奏感，做好时间管理^.^

